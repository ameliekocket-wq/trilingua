<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trilingua</title>

<!-- APP ICON -->
<link rel="apple-touch-icon" href="logo.png">
<link rel="icon" href="logo.png">

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:#f2f7fb;
text-align:center;
color:#333;
}

header{
background:#cfe9f7;
padding:25px;
border-bottom-left-radius:25px;
border-bottom-right-radius:25px;
}

h1{
margin:0;
font-size:32px;
}

.subtitle{
opacity:0.7;
margin-top:5px;
}

.level-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:15px;
padding:20px;
}

.level{
padding:20px;
border-radius:20px;
font-weight:bold;
cursor:pointer;
transition:0.2s;
}

.locked{
background:#cccccc;
color:#777;
cursor:not-allowed;
}

.unlocked{
background:#f8cfe0;
}

.unlocked:hover{
transform:scale(1.05);
}

.card{
background:white;
margin:20px;
padding:25px;
border-radius:20px;
box-shadow:0 5px 15px rgba(0,0,0,0.05);
}

button{
padding:12px 18px;
border:none;
border-radius:15px;
margin:8px;
font-size:16px;
cursor:pointer;
background:#cfe9f7;
}

.correct{
background:#c8f7d1 !important;
}

.wrong{
background:#f7c8c8 !important;
}

.repeat{
color:#ff6b6b;
font-size:13px;
margin-top:5px;
}
</style>
</head>

<body>

<header>
<h1>Trilingua</h1>
<div class="subtitle">Drei Sprachen. Ein Flow.</div>
</header>

<div id="menu">
<div class="level-grid" id="levels"></div>
</div>

<div id="lesson" style="display:none;"></div>

<script>

let unlockedLevel = parseInt(localStorage.getItem("unlockedLevel")) || 1;
let currentQuestions = [];
let wrongQueue = [];
let questionIndex = 0;

const allLevels = {

1:[
{q:"Hva betyr 'takk'?",a:"Danke",options:["Hallo","Danke","Bitte","Nein"]},
{q:"Hva betyr 'hei'?",a:"Hallo",options:["Hallo","Danke","Bitte","Tsch√ºss"]},
{q:"Hva betyr 'br√∏d'?",a:"Brot",options:["Milch","Brot","K√§se","Fisch"]},
{q:"Hva betyr 'mor'?",a:"Mutter",options:["Vater","Mutter","Bruder","Schwester"]},
{q:"Hva betyr 'katt'?",a:"Katze",options:["Hund","Katze","Vogel","Maus"]}
],

2:[
{q:"Was hei√üt 'rojo'?",a:"rot",options:["rot","blau","gr√ºn","gelb"]},
{q:"Was hei√üt 'azul'?",a:"blau",options:["rot","blau","wei√ü","schwarz"]},
{q:"Was hei√üt 'camisa'?",a:"Hemd",options:["Hemd","Hose","Schuhe","Jacke"]},
{q:"Was hei√üt 'zapatos'?",a:"Schuhe",options:["Schuhe","Hut","Tasche","Rock"]},
{q:"Was hei√üt 'verde'?",a:"gr√ºn",options:["rot","gr√ºn","pink","grau"]}
],

3:[
{q:"Past von 'viajar' (yo)?",a:"viaj√©",options:["viaj√©","viajaste","viaj√≥","viajaron"]},
{q:"Past von 'comer' (nosotros)?",a:"comimos",options:["comimos","com√≠","comiste","comieron"]},
{q:"Past von 'vivir' (ellos)?",a:"vivieron",options:["vivieron","viv√≠","viviste","vivimos"]},
{q:"Past von 'hablar' (t√∫)?",a:"hablaste",options:["habl√©","hablaste","habl√≥","hablaron"]},
{q:"Past von 'probar' (√©l)?",a:"prob√≥",options:["prob√©","probaste","prob√≥","probaron"]}
],

4:[
{q:"√úbersetze: I have been learning English for 9 years",a:"Ich lerne seit 9 Jahren Englisch"},
{q:"√úbersetze: She has already finished",a:"Sie hat schon fertig gemacht"},
{q:"√úbersetze: They were playing football",a:"Sie spielten Fu√üball"},
{q:"√úbersetze: We will travel tomorrow",a:"Wir werden morgen reisen"},
{q:"√úbersetze: It was raining",a:"Es hat geregnet"}
],

5:[
{q:"Hva betyr 'sol'?",a:"Sonne"},
{q:"Hva betyr 'vind'?",a:"Wind"},
{q:"Hva betyr 'regner'?",a:"Es regnet"},
{q:"Hva betyr 'h√∏st'?",a:"Herbst"},
{q:"Hva betyr 'vinter'?",a:"Winter"}
],

6:[
{q:"Was hei√üt 'negro'?",a:"schwarz"},
{q:"Was hei√üt 'blanco'?",a:"wei√ü"},
{q:"Was hei√üt 'falda'?",a:"Rock"},
{q:"Was hei√üt 'abrigo'?",a:"Mantel"},
{q:"Was hei√üt 'sombrero'?",a:"Hut"}
],

7:[
{q:"Past von 'tener' (yo)?",a:"tuve"},
{q:"Past von 'ir' (√©l)?",a:"fue"},
{q:"Past von 'hacer' (nosotros)?",a:"hicimos"},
{q:"Past von 'decir' (ellos)?",a:"dijeron"},
{q:"Past von 'venir' (t√∫)?",a:"viniste"}
],

8:[
{q:"√úbersetze: I have already eaten",a:"Ich habe schon gegessen"},
{q:"√úbersetze: We were watching a movie",a:"Wir haben einen Film geschaut"},
{q:"√úbersetze: She has lived here for 5 years",a:"Sie lebt seit 5 Jahren hier"},
{q:"√úbersetze: They have finished",a:"Sie haben beendet"},
{q:"√úbersetze: I will study tomorrow",a:"Ich werde morgen lernen"}
],

9:[
{q:"Hva betyr 'bestevenn'?",a:"Bester Freund"},
{q:"Hva betyr 'spr√•k'?",a:"Sprache"},
{q:"Hva betyr 'lett'?",a:"leicht"},
{q:"Hva betyr 'fort'?",a:"schnell"},
{q:"Hva betyr 'bord'?",a:"Tisch"}
],

10:[
{q:"Was hei√üt 'morada'?",a:"lila"},
{q:"Was hei√üt 'pantalones'?",a:"Hose"},
{q:"Was hei√üt 'gris'?",a:"grau"},
{q:"Was hei√üt 'chaqueta'?",a:"Jacke"},
{q:"Was hei√üt 'naranja'?",a:"orange"}
]

};

function renderLevels(){
let container = document.getElementById("levels");
container.innerHTML="";
for(let i=1;i<=10;i++){
let div=document.createElement("div");
div.classList.add("level");
if(i<=unlockedLevel){
div.classList.add("unlocked");
div.innerText="Level "+i;
div.onclick=()=>startLevel(i);
}else{
div.classList.add("locked");
div.innerText="üîí Level "+i;
}
container.appendChild(div);
}
}

function startLevel(lvl){
currentQuestions=[...allLevels[lvl]];
wrongQueue=[];
questionIndex=0;
document.getElementById("menu").style.display="none";
document.getElementById("lesson").style.display="block";
nextQuestion(lvl);
}

function nextQuestion(lvl){
if(questionIndex>=5){
if(wrongQueue.length>0){
currentQuestions.push(...wrongQueue);
wrongQueue=[];
}else{
if(lvl===unlockedLevel && unlockedLevel<10){
unlockedLevel++;
localStorage.setItem("unlockedLevel",unlockedLevel);
}
document.getElementById("lesson").innerHTML=
`<div class="card">
<h2>üéâ Level geschafft!</h2>
<button onclick="goHome()">Zur√ºck zum Men√º</button>
</div>`;
return;
}
}
let q=currentQuestions.shift();
questionIndex++;
renderQuestion(q,lvl);
}

function renderQuestion(q,lvl){
let html=`<div class="card"><h3>${q.q}</h3>`;
if(q.options){
q.options.forEach(opt=>{
html+=`<button onclick="checkAnswer('${opt}','${q.a}',${lvl})">${opt}</button>`;
});
}else{
html+=`<input id="textAnswer" style="padding:10px;border-radius:10px;border:1px solid #ccc;">
<br><button onclick="checkText('${q.a}',${lvl})">Check</button>`;
}
html+="</div>";
document.getElementById("lesson").innerHTML=html;
}

function checkAnswer(ans,correct,lvl){
if(ans===correct){
nextQuestion(lvl);
}else{
wrongQueue.push({q:document.querySelector("h3").innerText,a:correct});
nextQuestion(lvl);
}
}

function checkText(correct,lvl){
let val=document.getElementById("textAnswer").value.trim();
if(val.toLowerCase()===correct.toLowerCase()){
nextQuestion(lvl);
}else{
wrongQueue.push({q:document.querySelector("h3").innerText,a:correct});
nextQuestion(lvl);
}
}

function goHome(){
document.getElementById("lesson").style.display="none";
document.getElementById("menu").style.display="block";
renderLevels();
}

renderLevels();

</script>

</body>
</html>
